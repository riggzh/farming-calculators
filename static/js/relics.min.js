"use strict";function _classCallCheck(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,s){for(var e=0;e<s.length;e++){var l=s[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(s,e,l){return e&&t(s.prototype,e),l&&t(s,l),s}}(),relicsCalc=function(){function t(s){_classCallCheck(this,t),this.domEl={stage:this.getEl("stage"),bos:this.getEl("bos"),bosUnit:this.getEl("bos-unit"),set1:this.getEl("set-1"),set2:this.getEl("set-2"),bosInfo:document.getElementsByClassName("bosinfo"),baseResult:this.getEl("base-result"),bosResult:this.getEl("bos-result"),totalResult:this.getEl("total-result")},this.stage=void 0,this.bos=void 0,this.bosUnit=void 0,this.bosLvl=void 0,this.set1=void 0,this.set2=void 0,this.formulas=new mathFormulas,this.setGlobalValues(),this.populateValues(),this.calcRelics(),this.bindEvents()}return _createClass(t,[{key:"setGlobalValues",value:function(){this.stage=localStorage.getItem("relicsStage")?localStorage.getItem("relicsStage"):100,this.bos=localStorage.getItem("relicsBos")?localStorage.getItem("relicsBos"):0,this.bosUnit=localStorage.getItem("relicsBosUnit")?localStorage.getItem("relicsBosUnit"):"-",localStorage.getItem("relicsSet1")?this.set1="false"!==localStorage.getItem("relicsSet1")&&localStorage.getItem("relicsSet1"):this.set1=!1,localStorage.getItem("relicsSet2")?this.set2="false"!==localStorage.getItem("relicsSet2")&&localStorage.getItem("relicsSet2"):this.set2=!1}},{key:"populateValues",value:function(){localStorage.setItem("relicsStage",this.stage),localStorage.setItem("relicsBos",this.bos),localStorage.setItem("relicsBosUnit",this.bosUnit),localStorage.setItem("relicsSet1",this.set1),localStorage.setItem("relicsSet2",this.set2),this.domEl.stage.value=this.stage,this.domEl.bos.value=this.bos,this.domEl.bosUnit.value=this.bosUnit,this.domEl.set1.checked=!!this.set1,this.domEl.set2.checked=!!this.set2,this.bosLvl="-"!=this.bosUnit?this.formulas.convertNumber(this.bosUnit)*this.bos:parseInt(this.bos)}},{key:"bindEvents",value:function(){var t=this;this.domEl.stage.onchange=function(){t.updateValues(),t.calcRelics()},this.domEl.bos.onchange=function(){t.updateValues(),t.calcRelics()},this.domEl.bosUnit.onchange=function(){t.updateValues(),t.calcRelics()},this.domEl.set1.onchange=function(){t.updateValues(),t.calcRelics()},this.domEl.set2.onchange=function(){t.updateValues(),t.calcRelics()}}},{key:"updateValues",value:function(){this.stage=parseInt(this.domEl.stage.value),this.bos=parseFloat(this.domEl.bos.value),this.bosUnit=this.domEl.bosUnit.options[this.domEl.bosUnit.selectedIndex].value,this.set1=!!this.domEl.set1.checked&&parseFloat(this.domEl.set1.value),this.set2=!!this.domEl.set2.checked&&parseFloat(this.domEl.set2.value),this.populateValues()}},{key:"calcRelics",value:function(){var t=0,s=0,e=0;if(this.stage>=100)if(t=this.formulas.calcBaseRelics(this.stage),this.bosLvl>0){var l=[];this.set1&&l.push(this.set1),this.set2&&l.push(this.set2),0==l.length&&(l=!1),e=t+(s=this.formulas.calcBosRelics(t,this.bosLvl,l));for(var o=0;o<this.domEl.bosInfo.length;o++)this.domEl.bosInfo[o].style.display="block";this.domEl.baseResult.innerHTML=this.formulas.numFormat(t),this.domEl.bosResult.innerHTML=this.formulas.numFormat(s),this.domEl.totalResult.innerHTML=this.formulas.numFormat(e)}else{this.domEl.baseResult.innerHTML="",this.domEl.bosResult.innerHTML="";for(var i=0;i<this.domEl.bosInfo.length;i++)this.domEl.bosInfo[i].style.display="none";this.domEl.totalResult.innerHTML=this.formulas.numFormat(t)}else{this.domEl.baseResult.innerHTML="",this.domEl.bosResult.innerHTML="";for(var a=0;a<this.domEl.bosInfo.length;a++)this.domEl.bosInfo[a].style.display="none";this.domEl.totalResult.innerHTML=0}}},{key:"getEl",value:function(t){return document.getElementById(t)}}]),t}();new relicsCalc;