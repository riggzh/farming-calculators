"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,s,a){return s&&t(e.prototype,s),a&&t(e,a),e}}(),mathFormulas=function(){function t(){_classCallCheck(this,t),this.relicsCalc={mult1:3,mult2:1.5,mult3:5e-7,base1:1.21,base2:1.002,expo1:.48,expo2:1.005,expo3:1.1,offset:-110},this.bosCalc={effectPerLevel:.05,growthMax:.12,growthRate:1e-4,growthExpo:.5,costExpo:2.5,costCoef:.7},this.reductions={xtap:{hero:0,tap:1,pet:1,sc:2/3,hs:1,ship:0},xhero:{hero:1,tap:.5,pet:.5,sc:2/3,hs:.5,ship:1},xds:{hero:0,tap:1,pet:.5,sc:.5,hs:.5,ship:.5},xwc:{hero:1,tap:.5,pet:1,sc:2/3,hs:.5,ship:1},xfs:{hero:0,tap:1,pet:0,sc:.5,hs:1,ship:0},sad:{hero:0,tap:1,pet:0,sc:2/3,hs:2/3,ship:0}},this.abbrNrString=[];for(var e=500;e>14;)this.abbrNrString.push({value:Number("1E"+e),symbol:"e"+e}),e--;this.abbrNrString.push({value:1e12,symbol:"T"}),this.abbrNrString.push({value:1e9,symbol:"B"}),this.abbrNrString.push({value:1e6,symbol:"M"}),this.abbrNrString.push({value:1e3,symbol:"k"}),this.artifactFormulas=void 0}return _createClass(t,[{key:"setArtFormulas",value:function(t){this.artifactFormulas=t}},{key:"calcBaseRelics",value:function(t){var e=this.relicsCalc,s=e.mult1*Math.pow(e.base1,Math.pow(t,e.expo1)),a=e.mult2*(parseInt(t)+parseInt(e.offset)),i=Math.pow(e.base2,Math.pow(t,Math.min(1.015499,e.expo2*(Math.pow(t,e.expo3)*e.mult3+1))));return Math.max(Math.round(s+a+i),0)}},{key:"calcBosRelics",value:function(t,e,s){var a=!1;if(e>0){var i=this.bosCalc,o=i.effectPerLevel*Math.pow(e,Math.pow(1+(i.costExpo-1)*Math.min(i.growthRate*e,i.growthMax),i.growthExpo));a=Math.max(Math.ceil(t*o),0),s&&(a*=this.calcSetsMultiplier(s))}return a}},{key:"calcSetsMultiplier",value:function(t){var e=t[0];if(t.length>1)for(var s=1;s<=t.length-1;s++)e*=t[s];return e}},{key:"calcPrestigeRelics",value:function(t,e,s){return t+this.calcBosRelics(t,e,s)}},{key:"calcArtTotalCost",value:function(t,e,s){var a=e,i=0,o=this.artifactFormulas.filter(function(e){return e.id==t});for(o=o[0];a<s;)a++,i+=o.costCoef*Math.pow(a,o.costExpo);return i}},{key:"calcArtEffectBonus",value:function(t,e){var s=this.artifactFormulas.filter(function(e){return e.id==t});return s=s[0],parseFloat(s.effectPerLevel*Math.pow(e,Math.pow(1+(s.costExpo-1)*Math.min(s.growthRate*e,s.growthMax),s.growthExpo))+1).toFixed(2)}},{key:"calcBosCost",value:function(t){return this.bosCalc.costCoef*Math.pow(t,this.bosCalc.costExpo)}},{key:"calcNextArtifactCost",value:function(t){return Math.floor(t*Math.pow(Math.max(1.31,1.15+.00395*t),t),0)}},{key:"calcDamageIncrease",value:function(t,e,s,a){return Math.pow(e/t,this.reductions[s][a])}},{key:"calcStageIncrease",value:function(t){return Math.floor(26*Math.log10(t))}},{key:"convertNumber",value:function(t){return this.abbrNrString.filter(function(e){return e.symbol==t})[0].value}},{key:"numFormat",value:function(t){for(var e=/\.0+$|(\.[0-9]*[1-9])0+$/,s=0;s<this.abbrNrString.length;s++)if(t>=this.abbrNrString[s].value)return(Math.floor(t/this.abbrNrString[s].value*100)/100).toFixed(2).replace(e,"$1")+this.abbrNrString[s].symbol;return(Math.floor(100*t)/100).toFixed(2).replace(e,"$1")}}]),t}(),farmingCalc=(_createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,s,a){return s&&t(e.prototype,s),a&&t(e,a),e}}(),function(){function t(){_classCallCheck(this,t),this.domEl={stage:this.getEl("stage"),bos:this.getEl("bos"),bosUnit:this.getEl("bos-unit"),relics:this.getEl("relics"),relicsUnit:this.getEl("relics-unit"),set1:this.getEl("set-1"),set2:this.getEl("set-2")},this.stage=void 0,this.bos=void 0,this.bosUnit=void 0,this.bosLvl=void 0,this.relics=void 0,this.relicsUnit=void 0,this.relicsOwned=void 0,this.set1=void 0,this.set2=void 0,this.sets=void 0,this.formulas=new mathFormulas,this.setGlobalValues(),this.populateValues()}return _createClass(t,[{key:"setGlobalValues",value:function(){this.stage=localStorage.getItem("stage")?localStorage.getItem("stage"):100,this.bos=localStorage.getItem("bos")?localStorage.getItem("bos"):0,this.bosUnit=localStorage.getItem("bosUnit")?localStorage.getItem("bosUnit"):"-",this.relics=localStorage.getItem("relics")?localStorage.getItem("relics"):0,this.relicsUnit=localStorage.getItem("relicsUnit")?localStorage.getItem("relicsUnit"):"-",localStorage.getItem("set1")?this.set1="false"!==localStorage.getItem("set1")&&localStorage.getItem("set1"):this.set1=!1,localStorage.getItem("set2")?this.set2="false"!==localStorage.getItem("set2")&&localStorage.getItem("set2"):this.set2=!1}},{key:"populateValues",value:function(){localStorage.setItem("stage",this.stage),localStorage.setItem("bos",this.bos),localStorage.setItem("bosUnit",this.bosUnit),localStorage.setItem("relics",this.relics),localStorage.setItem("relicsUnit",this.relicsUnit),localStorage.setItem("set1",this.set1),localStorage.setItem("set2",this.set2),this.domEl.stage.value=this.stage,this.domEl.bos.value=this.bos,this.domEl.bosUnit.value=this.bosUnit,this.domEl.relics.value=this.relics,this.domEl.relicsUnit.value=this.relicsUnit,this.domEl.set1.checked=!!this.set1,this.domEl.set2.checked=!!this.set2,this.relicsOwned="-"!=this.relicsUnit?this.formulas.convertNumber(this.relicsUnit)*this.relics:parseInt(this.relics),this.bosLvl="-"!=this.bosUnit?this.formulas.convertNumber(this.bosUnit)*this.bos:parseInt(this.bos),this.sets=[],this.set1&&this.sets.push(this.set1),this.set2&&this.sets.push(this.set2),0==this.sets.length&&(this.sets=!1)}},{key:"updateValues",value:function(){this.stage=parseInt(this.domEl.stage.value),this.bos=parseFloat(this.domEl.bos.value),this.bosUnit=this.domEl.bosUnit.options[this.domEl.bosUnit.selectedIndex].value,this.relics=parseFloat(this.domEl.relics.value),this.relicsUnit=this.domEl.relicsUnit.options[this.domEl.relicsUnit.selectedIndex].value,this.set1=!!this.domEl.set1.checked&&parseFloat(this.domEl.set1.value),this.set2=!!this.domEl.set2.checked&&parseFloat(this.domEl.set2.value),this.populateValues()}},{key:"getEl",value:function(t){return document.getElementById(t)}}]),t}());document.addEventListener("DOMContentLoaded",function(){var t=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);t.length>0&&t.forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.target,s=document.getElementById(e);t.classList.toggle("is-active"),s.classList.toggle("is-active")})})});